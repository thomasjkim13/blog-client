{"ast":null,"code":"import _regeneratorRuntime from\"/Users/thomaskim/Desktop/sei/projects/capstone_project/blog-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/thomaskim/Desktop/sei/projects/capstone_project/blog-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Link}from\"react-router-dom\";import{useContext,useRef}from\"react\";import{Context}from\"../../context/Context\";import axios from\"axios\";import\"./signin.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var userRef=useRef();var passwordRef=useRef();var _useContext=useContext(Context),dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch({type:\"SIGNIN_START\"});// API call\n_context.prev=2;_context.next=5;return axios.post(\"/auth/signin\",{// pass my data username and password\nusername:userRef.current.value,password:passwordRef.current.value});case 5:res=_context.sent;dispatch({type:\"SIGNIN_SUCCESS\",payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:\"SIGNIN_FAILURE\"});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"signin\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"signinTitle\",children:\"SignIn\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"signinForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"signinInput\",placeholder:\"Enter your username...\",ref:userRef}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"signinInput\",placeholder:\"Enter your password...\",ref:passwordRef}),/*#__PURE__*/_jsx(\"button\",{className:\"signinBtn\",type:\"submit\",disabled:isFetching,children:\"SignIn\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"signupRegisterBtn\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/signup\",children:\"SignUp\"})})]});}","map":{"version":3,"sources":["/Users/thomaskim/Desktop/sei/projects/capstone_project/blog-client/src/components/SignIn/SignIn.jsx"],"names":["Link","useContext","useRef","Context","axios","SignIn","userRef","passwordRef","dispatch","isFetching","handleSubmit","e","preventDefault","type","post","username","current","value","password","res","payload","data"],"mappings":"uSAAA,OAASA,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,CAAqBC,MAArB,KAAmC,OAAnC,CACA,OAASC,OAAT,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC/B,GAAMC,CAAAA,OAAO,CAAGJ,MAAM,EAAtB,CACA,GAAMK,CAAAA,WAAW,CAAGL,MAAM,EAA1B,CACA,gBAAiCD,UAAU,CAACE,OAAD,CAA3C,CAAQK,QAAR,aAAQA,QAAR,CAAkBC,UAAlB,aAAkBA,UAAlB,CAEA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,0HACnBA,CAAC,CAACC,cAAF,GACAJ,QAAQ,CAAC,CAAEK,IAAI,CAAC,cAAP,CAAD,CAAR,CACA;AAHmB,sCAKCT,CAAAA,KAAK,CAACU,IAAN,CAAW,cAAX,CAA2B,CAC3C;AACAC,QAAQ,CAAET,OAAO,CAACU,OAAR,CAAgBC,KAFiB,CAG3CC,QAAQ,CAAEX,WAAW,CAACS,OAAZ,CAAoBC,KAHa,CAA3B,CALD,QAKXE,GALW,eAUjBX,QAAQ,CAAC,CAAEK,IAAI,CAAC,gBAAP,CAAyBO,OAAO,CAAED,GAAG,CAACE,IAAtC,CAAD,CAAR,CAViB,+EAYjBb,QAAQ,CAAC,CAAEK,IAAI,CAAC,gBAAP,CAAD,CAAR,CAZiB,oEAAH,kBAAZH,CAAAA,YAAY,4CAAlB,CAgBA,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAM,SAAS,CAAC,aAAhB,oBADF,cAEE,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAGA,YAAxC,wBACE,mCADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,aAFZ,CAGE,WAAW,CAAC,wBAHd,CAIE,GAAG,CAAEJ,OAJP,EAFF,cAQE,mCARF,cASE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,aAFZ,CAGE,WAAW,CAAC,wBAHd,CAIE,GAAG,CAAEC,WAJP,EATF,cAeE,eAAQ,SAAS,CAAC,WAAlB,CAA8B,IAAI,CAAC,QAAnC,CAA4C,QAAQ,CAAEE,UAAtD,oBAfF,GAFF,cAmBE,eAAQ,SAAS,CAAC,mBAAlB,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,EAAE,CAAC,SAA1B,oBADF,EAnBF,GADF,CAyBD","sourcesContent":["import { Link } from \"react-router-dom\"\nimport { useContext, useRef } from \"react\"\nimport { Context } from \"../../context/Context\"\nimport axios from \"axios\"\nimport \"./signin.css\"\n\nexport default function SignIn() {\n  const userRef = useRef()\n  const passwordRef = useRef()\n  const { dispatch, isFetching } = useContext(Context)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    dispatch({ type:\"SIGNIN_START\" })\n    // API call\n    try {\n      const res = await axios.post(\"/auth/signin\", {\n        // pass my data username and password\n        username: userRef.current.value,\n        password: passwordRef.current.value\n      })\n      dispatch({ type:\"SIGNIN_SUCCESS\", payload: res.data })\n    } catch (err) {\n      dispatch({ type:\"SIGNIN_FAILURE\" })\n    }\n  }\n\n  return (\n    <div className=\"signin\">\n      <span className=\"signinTitle\">SignIn</span>\n      <form className=\"signinForm\" onSubmit={ handleSubmit }>\n        <label>Username</label>\n        <input \n          type=\"text\" \n          className=\"signinInput\" \n          placeholder=\"Enter your username...\" \n          ref={userRef}\n        />\n        <label>Password</label>\n        <input \n          type=\"password\" \n          className=\"signinInput\" \n          placeholder=\"Enter your password...\" \n          ref={passwordRef} \n        />\n        <button className=\"signinBtn\" type=\"submit\" disabled={isFetching}>SignIn</button>\n      </form>\n      <button className=\"signupRegisterBtn\">\n        <Link className=\"link\" to=\"/signup\">SignUp</Link>\n      </button>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}